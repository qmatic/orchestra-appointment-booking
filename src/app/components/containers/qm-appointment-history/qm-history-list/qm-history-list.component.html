<div class="qm-booking-flow" [dir]="userDirection">
    <!-- <mat-form-field>
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
    </mat-form-field> -->
    <div class="qm-blocking-list__main" [ngStyle]="{'height':dashboardRowCSSHeight}">
      <div class="mat-elevation-z8 qm-blocking-list__container" [ngClass]="{'qm-blocking-list__container__full' : appointmentList === undefined || (appointmentList && 6 > appointmentList.length) }">
        <table mat-table [dataSource]="dataSource" matSort class="qm-blocking-list__table">
    
          <!-- Action Date Column -->
          <ng-container matColumnDef="actionDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.action.time' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.timeStamp | qmDateFormat : '' | async}} </td>
          </ng-container>
      
          <!-- Operation Column -->
          <ng-container matColumnDef="operation">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.operation' | translate }} </th>
            <td mat-cell *matCellDef="let row" [ngClass]="{'qm-history-table__create' : row.operation === 'CREATE', 'qm-history-table__update' : row.operation === 'UPDATE', 'qm-history-table__delete' : row.operation === 'DELETE' }"> {{row.operation}} </td>
          </ng-container>
      
          <!-- AppId Column -->
          <ng-container matColumnDef="appId">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.appointment.id' | translate }} </th>
            <td mat-cell *matCellDef="let row" class="qm-history-table__id-text"> {{ row.entityId }} </td>
          </ng-container>
      
          <!-- Start Column -->
          <ng-container matColumnDef="start">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.start.time' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.actionData.start | qmDateFormat : '' | async }} </td>
          </ng-container>

          <!-- End Column -->
          <ng-container matColumnDef="end">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.end.time' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.actionData.end | qmDateFormat : '' | async }} </td>
          </ng-container>

          <!-- Branch Column -->
          <ng-container matColumnDef="branch">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.branch' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{ row.actionBranch }} </td>
          </ng-container>

          <!-- Resource Column -->
          <ng-container matColumnDef="resource">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.resource' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.actionData.resource }} </td>
          </ng-container>

          <!-- Service Column -->
          <ng-container matColumnDef="service">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.services' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.actionData.services }} </td>
          </ng-container>

          <!-- Title Column -->
          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.title' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.actionData.title }} </td>
          </ng-container>

           <!-- Notes Column -->
           <ng-container matColumnDef="notes">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.notes' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.actionData.notes }} </td>
          </ng-container>

           <!-- User Column -->
           <ng-container matColumnDef="user">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.appointment.user' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.username }} </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="appointmentSelected(row.entityId)"></tr>
      
          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td *ngIf="dataSource.filter.length > 0" class="mat-cell" colspan="4">No data matching the filter "{{dataSource.filter}}"</td>
          </tr>
        </table>
    </div>
    <mat-paginator [hidden]="appointmentList === undefined || appointmentList && appointmentList.length < 6" [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>
    </div>
  
</div>