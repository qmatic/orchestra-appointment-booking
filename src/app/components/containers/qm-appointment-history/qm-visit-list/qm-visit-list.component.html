<div class="qm-booking-flow" [dir]="userDirection">
    <!-- <mat-form-field>
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
    </mat-form-field> -->
    <div class="qm-blocking-list__main" [ngStyle]="{'height':dashboardRowCSSHeight}">
      <div class="mat-elevation-z8 qm-blocking-list__container" [ngClass]="{'qm-blocking-list__container__full' : visitList === undefined || (visitList && 6 > visitList.length) }">
        <table mat-table [dataSource]="dataSource" matSort class="qm-blocking-list__table">
    
          <!-- Action Time Column -->
          <ng-container matColumnDef="actionTime">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.action.time' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.time | qmTimeFormat : '' | async}} </td>
          </ng-container>
      
          <!-- Status Column -->
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.status' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.visitOutcome}} </td>
          </ng-container>
      
          <!-- Queue Column -->
          <ng-container matColumnDef="queue">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.queue' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{ row.queue }} </td>
          </ng-container>

          <!-- Outcome Column -->
          <ng-container matColumnDef="service">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.service' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.service }} </td>
          </ng-container>
      
          <!-- Outcome Column -->
          <ng-container matColumnDef="outcome">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.outcome' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.outcome }} </td>
          </ng-container>

          <!-- Mark Column -->
          <ng-container matColumnDef="mark">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.mark' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.mark }} </td>
          </ng-container>

          <!-- Recycle Column -->
          <ng-container matColumnDef="recycled">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.recycled' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{ row.recycled }} </td>
          </ng-container>

          <!-- Notes Column -->
          <ng-container matColumnDef="notes">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.notes' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{ getNotes(row.notes) }} </td>
          </ng-container>

          <!-- Service Point Column -->
          <ng-container matColumnDef="servicePoint">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.service.point' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.workstation }} </td>
          </ng-container>

          <!-- User Column -->
          <ng-container matColumnDef="user">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'history.table.visit.user' | translate }} </th>
            <td mat-cell *matCellDef="let row"> {{row.user }} </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      
          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td *ngIf="dataSource.filter.length > 0" class="mat-cell" colspan="4">No data matching the filter "{{dataSource.filter}}"</td>
          </tr>
        </table>
    </div>
    <mat-paginator [hidden]="visitList === undefined || visitList && visitList.length < 6" [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>
    </div>
  
</div>