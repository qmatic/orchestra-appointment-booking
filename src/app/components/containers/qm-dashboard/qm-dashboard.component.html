<div class="qm-dashboard" dir="{{ userDirection$ | async }}">
  <div class="qm-dashboard__header">
    <div class="row">
      <div class="col-sm-5">
        <div class="qm-full-height">
          <qm-customer-search *ngIf="currentCustomer === null; else customerCard"></qm-customer-search>
          <ng-template #customerCard>
            <qm-customer-card [customer]="currentCustomer"></qm-customer-card>
          </ng-template>
        </div>
      </div>
      <div class="col-sm-5">
        <div class="qm-full-height" *ngIf="bookingHistoryIsVisible()">
          <qm-booking-history [bookingHistory]="bookingHistory"></qm-booking-history>
        </div>
        <div class="qm-full-height" *ngIf="customerAppointmentsAreVisible()">
          <qm-customer-appointments></qm-customer-appointments>
        </div>
        <div class="qm-full-height" *ngIf="selectedAppointment !== null">
          <qm-appointment-card [appointment]="selectedAppointment"></qm-appointment-card>
        </div>
      </div>
      <div class="col-sm-2" *ngIf="(showExpiryReservationTime$ | async)">
        <div class="qm-expire-counter-layout">
            <qm-reservation-timer></qm-reservation-timer>
        </div>
      </div>
    </div>
  </div>

  <div class="qm-dashboard__body" id="dashboard-body">
    <div class="qm-dashboard__content">
      <div class="qm-dashboard-row">
        <div class="qm-dashboard-col-12">
          <div class="qm-booking-header" id="dashboard-header">
            <h2 class="qm-headline qm-headline--large" *ngIf="selectedAppointment === null; else editHeadline">{{ 'label.dashboard.create.appointment' | translate }}</h2>
            <ng-template #editHeadline>
              <h2 class="qm-headline qm-headline--large">{{ 'label.dashboard.edit.appointment' | translate }}</h2>
            </ng-template>
          </div>
          <qm-booking-flow></qm-booking-flow>
        </div>
      </div>
      <qm-booking-footer></qm-booking-footer>
    </div>
  </div>
</div>
